extends layout

block content
    // Override layout elements for login page
    style.
        body { padding: 0 !important; margin: 0 !important; overflow: hidden !important; }
        #petromath-heading { display: none !important; }
        // Remove the .alert { display: none !important; } rule that was hiding messages
        nav { display: none !important; }
        footer { display: none !important; }
    
    div.login-container
        div.container-fluid.h-100.d-flex.align-items-center.justify-content-center
            div.row.w-100.justify-content-center
                div.col-11.col-sm-8.col-md-6.col-lg-4.col-xl-3
                    // App-style header
                    div.text-center.mb-4
                        div.app-logo.mb-3
                            i.bi.bi-person-fill.text-white(style="font-size: 1.6rem;")
                        h2.app-title.mb-1.text-white PetroMath
                        p.app-subtitle.text-white Welcome Back
                    
                    // Login card
                    div.login-card.shadow-lg
                        div.card-header.text-center.py-3
                            h4.mb-0.text-primary Login
                        
                        div.card-body.p-4
                            // Display flash messages (error, success, warning)
                            if messages && messages.error
                                div.alert.alert-danger.mb-3 #{messages.error}
                            
                            if messages && messages.success
                                div.alert.alert-success.mb-3 #{messages.success}
                            
                            if messages && messages.warning
                                div.alert.alert-warning.mb-3 #{messages.warning}
                            
                            // Fallback for legacy 'message' variable (if still used anywhere)
                            if message
                                div.alert.alert-danger.mb-3 #{message}
                            
                            form(method='POST' action='/login')
                                div.form-group.mb-3
                                    label.form-label.text-muted.fw-bold Username:
                                    input#username.form-control.form-control-lg(type='text', name='username', placeholder='Enter username', required)
                                
                                div.form-group.mb-4
                                    label.form-label.text-muted.fw-bold Password:
                                    input#pw.form-control.form-control-lg(type='password', name='password', placeholder='Enter password', required)
                                
                                button.btn.btn-success.btn-lg.w-100.login-btn(type='submit') 
                                    i.bi.bi-box-arrow-in-right.me-2
                                    span Login
                    
                    // Footer
                    div.text-center.mt-4
                        small.text-white-50 &copy; #{new Date().getFullYear()} PetroMath. All rights reserved.